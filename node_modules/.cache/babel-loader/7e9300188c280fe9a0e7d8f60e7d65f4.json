{"ast":null,"code":"var _jsxFileName = \"/home/skarr/Desktop/CSE Courses/MERN/notes-frontend/src/App.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport './App.css';\nimport axios from 'axios';\nimport { useState } from \"react\"; // import DUMMY_NOTES from './DUMMY_NOTES';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  // State variable\n  const [notesList, setNotesList] = useState([]);\n  /* Infinite loop\n    Prevents infinite loop of function call and then render and then again \n    function call loop.\n  */\n  // Use effect is used to call a function only one time an object renders.\n\n  useEffect(() => {\n    // const listFromStorageString = localStorage.getItem(\"my-notes\");\n    // // If not null, use the local storage notes. Else, use DUMMY_NOTES\n    // if (listFromStorageString) {\n    //   const listFromStorageArray = JSON.parse(listFromStorageString);\n    //   setNotesList(listFromStorageArray);\n    // } else {\n    //   setNotesList(DUMMY_NOTES);\n    // }\n    getNotes();\n  }, []);\n  useEffect(() => {\n    console.log(\"Saving to local storage\");\n    const notesListString = JSON.stringify(notesList);\n    localStorage.setItem('my-notes', notesListString);\n  }, [notesList]);\n  /* Twice console log\n    You see two console logs becase strict mode is enabled which renders the \n    code twice in developement mode but not in production.\n  */\n\n  console.log(\"Rendering\");\n  console.log(notesList); // get notes method\n\n  const getNotes = async () => {\n    try {\n      const response = await axios.get('https://skarr-notes-backend.herokuapp.com/notes');\n      setNotesList(response.data.lo);\n      console.log(response);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n  /* Why INote data type\n    We want to get the note from the child so that we can update\n    the whole note, not just the text value.\n    To do this, we get the INote data type\n  */\n\n\n  const updateNoteItem = updatedNote => {\n    console.log(\"Value updated in the app component\");\n    console.log(updatedNote); // Created a temporary variable with updated variable\n\n    const updatedList = notesList.map(noteItem => {\n      if (noteItem._id === updatedNote._id) {\n        return updatedNote;\n      }\n\n      return noteItem;\n    }); // Setting the original noteList with updatedList\n\n    setNotesList(updatedList);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"b1sZvc5cFTMKxBl7nMCgYeF1g8E=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","axios","useState","App","notesList","setNotesList","getNotes","console","log","notesListString","JSON","stringify","localStorage","setItem","response","get","data","lo","err","error","updateNoteItem","updatedNote","updatedList","map","noteItem","_id"],"sources":["/home/skarr/Desktop/CSE Courses/MERN/notes-frontend/src/App.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport './App.css';\nimport axios from 'axios';\nimport { useState } from \"react\";\n// import DUMMY_NOTES from './DUMMY_NOTES';\nimport Note from './components/Note/Note';\nimport INote from './interfaces/note.interface';\n\nfunction App() {\n\n  // State variable\n  const [notesList, setNotesList] = useState<INote[]>([]);\n\n  /* Infinite loop\n    Prevents infinite loop of function call and then render and then again \n    function call loop.\n  */\n  // Use effect is used to call a function only one time an object renders.\n\n  useEffect(() => {\n    // const listFromStorageString = localStorage.getItem(\"my-notes\");\n    \n    // // If not null, use the local storage notes. Else, use DUMMY_NOTES\n    // if (listFromStorageString) {\n    //   const listFromStorageArray = JSON.parse(listFromStorageString);\n    //   setNotesList(listFromStorageArray);\n    // } else {\n    //   setNotesList(DUMMY_NOTES);\n    // }\n\n    getNotes();\n  }, [])\n\n  useEffect(() => {\n    console.log(\"Saving to local storage\");\n    const notesListString = JSON.stringify(notesList);\n    localStorage.setItem('my-notes',  notesListString);\n\n  }, [notesList]);\n\n  /* Twice console log\n    You see two console logs becase strict mode is enabled which renders the \n    code twice in developement mode but not in production.\n  */\n\n  console.log(\"Rendering\");\n  console.log(notesList);\n\n  // get notes method\n  const getNotes = async() => {\n    try {\n      const response = await axios.get(\n        'https://skarr-notes-backend.herokuapp.com/notes'\n      );\n\n      setNotesList(response.data.lo);\n      console.log(response);\n    } catch (err) {\n      console.error(err);\n    }\n  }\n\n  /* Why INote data type\n    We want to get the note from the child so that we can update\n    the whole note, not just the text value.\n    To do this, we get the INote data type\n  */\n  const updateNoteItem = (updatedNote: INote) => {\n\n    console.log(\"Value updated in the app component\");\n    console.log(updatedNote);\n\n    // Created a temporary variable with updated variable\n    const updatedList = notesList.map((noteItem: INote) => {\n      if (noteItem._id === updatedNote._id) {\n        return updatedNote;\n      }\n\n      return noteItem;\n    });\n\n    // Setting the original noteList with updatedList\n    setNotesList(updatedList);\n  }\n\n  return (\n    <div className=\"App\">\n      {/* <div className=\"notes-list\">\n        {\n          notesList.map((noteItem, index) => {\n            return (\n              <Note note={noteItem} onNoteUpdate={updateNoteItem} key={index} />\n            )\n          })\n        }\n      </div> */}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,WAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,OAAzB,C,CACA;;;;AAIA,SAASC,GAAT,GAAe;EAAA;;EAEb;EACA,MAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BH,QAAQ,CAAU,EAAV,CAA1C;EAEA;AACF;AACA;AACA;EACE;;EAEAF,SAAS,CAAC,MAAM;IACd;IAEA;IACA;IACA;IACA;IACA;IACA;IACA;IAEAM,QAAQ;EACT,CAZQ,EAYN,EAZM,CAAT;EAcAN,SAAS,CAAC,MAAM;IACdO,OAAO,CAACC,GAAR,CAAY,yBAAZ;IACA,MAAMC,eAAe,GAAGC,IAAI,CAACC,SAAL,CAAeP,SAAf,CAAxB;IACAQ,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAkCJ,eAAlC;EAED,CALQ,EAKN,CAACL,SAAD,CALM,CAAT;EAOA;AACF;AACA;AACA;;EAEEG,OAAO,CAACC,GAAR,CAAY,WAAZ;EACAD,OAAO,CAACC,GAAR,CAAYJ,SAAZ,EAtCa,CAwCb;;EACA,MAAME,QAAQ,GAAG,YAAW;IAC1B,IAAI;MACF,MAAMQ,QAAQ,GAAG,MAAMb,KAAK,CAACc,GAAN,CACrB,iDADqB,CAAvB;MAIAV,YAAY,CAACS,QAAQ,CAACE,IAAT,CAAcC,EAAf,CAAZ;MACAV,OAAO,CAACC,GAAR,CAAYM,QAAZ;IACD,CAPD,CAOE,OAAOI,GAAP,EAAY;MACZX,OAAO,CAACY,KAAR,CAAcD,GAAd;IACD;EACF,CAXD;EAaA;AACF;AACA;AACA;AACA;;;EACE,MAAME,cAAc,GAAIC,WAAD,IAAwB;IAE7Cd,OAAO,CAACC,GAAR,CAAY,oCAAZ;IACAD,OAAO,CAACC,GAAR,CAAYa,WAAZ,EAH6C,CAK7C;;IACA,MAAMC,WAAW,GAAGlB,SAAS,CAACmB,GAAV,CAAeC,QAAD,IAAqB;MACrD,IAAIA,QAAQ,CAACC,GAAT,KAAiBJ,WAAW,CAACI,GAAjC,EAAsC;QACpC,OAAOJ,WAAP;MACD;;MAED,OAAOG,QAAP;IACD,CANmB,CAApB,CAN6C,CAc7C;;IACAnB,YAAY,CAACiB,WAAD,CAAZ;EACD,CAhBD;;EAkBA,oBACE;IAAK,SAAS,EAAC;EAAf;IAAA;IAAA;IAAA;EAAA,QADF;AAaD;;GA1FQnB,G;;KAAAA,G;AA4FT,eAAeA,GAAf"},"metadata":{},"sourceType":"module"}