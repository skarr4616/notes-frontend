{"ast":null,"code":"import _slicedToArray from\"/home/skarr/.local/share/Trash/files/notes-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect}from'react';import'./App.css';// import axios from 'axios';\nimport{useState}from\"react\";import DUMMY_NOTES from'./DUMMY_NOTES';import Note from'./components/Note/Note';import{jsx as _jsx}from\"react/jsx-runtime\";function App(){// State variable\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),notesList=_useState2[0],setNotesList=_useState2[1];/* Infinite loop\n    Prevents infinite loop of function call and then render and then again \n    function call loop.\n  */ // Use effect is used to call a function only one time an object renders.\nuseEffect(function(){var listFromStorageString=localStorage.getItem(\"my-notes\");// If not null, use the local storage notes. Else, use DUMMY_NOTES\nif(listFromStorageString){var listFromStorageArray=JSON.parse(listFromStorageString);setNotesList(listFromStorageArray);}else{setNotesList(DUMMY_NOTES);}},[]);useEffect(function(){console.log(\"Saving to local storage\");var notesListString=JSON.stringify(notesList);localStorage.setItem('my-notes',notesListString);},[notesList]);/* Twice console log\n    You see two console logs becase strict mode is enabled which renders the \n    code twice in developement mode but not in production.\n  */console.log(\"Rendering\");console.log(notesList);// get notes method\n// const getNotes = async() => {\n//   try {\n//     const response = await axios.get(\n//       'http://localhost:5000/notes'\n//     );\n//     setNotesList(response.data.notes);\n//     console.log(notesList);\n//   } catch (err) {\n//     console.error(err);\n//   }\n// }\n/* Why INote data type\n    We want to get the note from the child so that we can update\n    the whole note, not just the text value.\n    To do this, we get the INote data type\n  */var updateNoteItem=function updateNoteItem(updatedNote){console.log(\"Value updated in the app component\");console.log(updatedNote);// Created a temporary variable with updated variable\nvar updatedList=notesList.map(function(noteItem){if(noteItem._id===updatedNote._id){return updatedNote;}return noteItem;});// Setting the original noteList with updatedList\nsetNotesList(updatedList);};return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsx(\"div\",{className:\"notes-list\",children:notesList.map(function(noteItem,index){return/*#__PURE__*/_jsx(Note,{note:noteItem,onNoteUpdate:updateNoteItem},index);})})});}export default App;","map":{"version":3,"names":["React","useEffect","useState","DUMMY_NOTES","Note","App","notesList","setNotesList","listFromStorageString","localStorage","getItem","listFromStorageArray","JSON","parse","console","log","notesListString","stringify","setItem","updateNoteItem","updatedNote","updatedList","map","noteItem","_id","index"],"sources":["/home/skarr/.local/share/Trash/files/notes-frontend/src/App.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport './App.css';\n// import axios from 'axios';\nimport { useState } from \"react\";\nimport DUMMY_NOTES from './DUMMY_NOTES';\nimport Note from './components/Note/Note';\nimport INote from './interfaces/note.interface';\n\nfunction App() {\n\n  // State variable\n  const [notesList, setNotesList] = useState<INote[]>([]);\n\n  /* Infinite loop\n    Prevents infinite loop of function call and then render and then again \n    function call loop.\n  */\n  // Use effect is used to call a function only one time an object renders.\n\n  useEffect(() => {\n    const listFromStorageString = localStorage.getItem(\"my-notes\");\n    \n    // If not null, use the local storage notes. Else, use DUMMY_NOTES\n    if (listFromStorageString) {\n      const listFromStorageArray = JSON.parse(listFromStorageString);\n      setNotesList(listFromStorageArray);\n    } else {\n      setNotesList(DUMMY_NOTES);\n    }\n  }, [])\n\n  useEffect(() => {\n    console.log(\"Saving to local storage\");\n    const notesListString = JSON.stringify(notesList);\n    localStorage.setItem('my-notes',  notesListString);\n\n  }, [notesList]);\n\n  /* Twice console log\n    You see two console logs becase strict mode is enabled which renders the \n    code twice in developement mode but not in production.\n  */\n\n  console.log(\"Rendering\");\n  console.log(notesList);\n\n  // get notes method\n  // const getNotes = async() => {\n  //   try {\n  //     const response = await axios.get(\n  //       'http://localhost:5000/notes'\n  //     );\n\n  //     setNotesList(response.data.notes);\n  //     console.log(notesList);\n  //   } catch (err) {\n  //     console.error(err);\n  //   }\n  // }\n\n  /* Why INote data type\n    We want to get the note from the child so that we can update\n    the whole note, not just the text value.\n    To do this, we get the INote data type\n  */\n  const updateNoteItem = (updatedNote: INote) => {\n\n    console.log(\"Value updated in the app component\");\n    console.log(updatedNote);\n\n    // Created a temporary variable with updated variable\n    const updatedList = notesList.map((noteItem: INote) => {\n      if (noteItem._id === updatedNote._id) {\n        return updatedNote;\n      }\n\n      return noteItem;\n    });\n\n    // Setting the original noteList with updatedList\n    setNotesList(updatedList);\n  }\n\n  return (\n    <div className=\"App\">\n      <div className=\"notes-list\">\n        {\n          notesList.map((noteItem, index) => {\n            return (\n              <Note note={noteItem} onNoteUpdate={updateNoteItem} key={index} />\n            )\n          })\n        }\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"yIAAA,MAAOA,MAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAO,WAAP,CACA;AACA,OAASC,QAAT,KAAyB,OAAzB,CACA,MAAOC,YAAP,KAAwB,eAAxB,CACA,MAAOC,KAAP,KAAiB,wBAAjB,C,2CAGA,QAASC,IAAT,EAAe,CAEb;AACA,cAAkCH,QAAQ,CAAU,EAAV,CAA1C,wCAAOI,SAAP,eAAkBC,YAAlB,eAEA;AACF;AACA;AACA,IARe,CASb;AAEAN,SAAS,CAAC,UAAM,CACd,GAAMO,sBAAqB,CAAGC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAA9B,CAEA;AACA,GAAIF,qBAAJ,CAA2B,CACzB,GAAMG,qBAAoB,CAAGC,IAAI,CAACC,KAAL,CAAWL,qBAAX,CAA7B,CACAD,YAAY,CAACI,oBAAD,CAAZ,CACD,CAHD,IAGO,CACLJ,YAAY,CAACJ,WAAD,CAAZ,CACD,CACF,CAVQ,CAUN,EAVM,CAAT,CAYAF,SAAS,CAAC,UAAM,CACda,OAAO,CAACC,GAAR,CAAY,yBAAZ,EACA,GAAMC,gBAAe,CAAGJ,IAAI,CAACK,SAAL,CAAeX,SAAf,CAAxB,CACAG,YAAY,CAACS,OAAb,CAAqB,UAArB,CAAkCF,eAAlC,EAED,CALQ,CAKN,CAACV,SAAD,CALM,CAAT,CAOA;AACF;AACA;AACA,IAEEQ,OAAO,CAACC,GAAR,CAAY,WAAZ,EACAD,OAAO,CAACC,GAAR,CAAYT,SAAZ,EAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACF;AACA;AACA;AACA,IACE,GAAMa,eAAc,CAAG,QAAjBA,eAAiB,CAACC,WAAD,CAAwB,CAE7CN,OAAO,CAACC,GAAR,CAAY,oCAAZ,EACAD,OAAO,CAACC,GAAR,CAAYK,WAAZ,EAEA;AACA,GAAMC,YAAW,CAAGf,SAAS,CAACgB,GAAV,CAAc,SAACC,QAAD,CAAqB,CACrD,GAAIA,QAAQ,CAACC,GAAT,GAAiBJ,WAAW,CAACI,GAAjC,CAAsC,CACpC,MAAOJ,YAAP,CACD,CAED,MAAOG,SAAP,CACD,CANmB,CAApB,CAQA;AACAhB,YAAY,CAACc,WAAD,CAAZ,CACD,CAhBD,CAkBA,mBACE,YAAK,SAAS,CAAC,KAAf,uBACE,YAAK,SAAS,CAAC,YAAf,UAEIf,SAAS,CAACgB,GAAV,CAAc,SAACC,QAAD,CAAWE,KAAX,CAAqB,CACjC,mBACE,KAAC,IAAD,EAAM,IAAI,CAAEF,QAAZ,CAAsB,YAAY,CAAEJ,cAApC,EAAyDM,KAAzD,CADF,CAGD,CAJD,CAFJ,EADF,EADF,CAaD,CAED,cAAepB,IAAf"},"metadata":{},"sourceType":"module"}